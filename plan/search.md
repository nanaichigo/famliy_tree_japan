## 参考資料

[戸籍情報システム標準仕様書](https://www.moj.go.jp/content/001357217.pdf)

### 情報整理
- 戸籍特定ファイル
    戸籍番号、編製年月日、改製年月日、回復年月日、消除年月日、本籍、筆頭者、記載者数、在籍者数、除籍者数、戸籍除区分、戸籍移動区分
- 戸籍事項ファイル
    戸籍番号、事件コード、事件発生年月日、戸籍事項項目
- 氏名ファイル
    個人番号、カナ氏名、漢字氏名
- 個人特定ファイル
    個人番号、戸籍番号、入籍年月日、除籍年月日、性別、生年月日、筆頭者区分、配偶者区分、父の氏名、母の氏名、父母との続柄、養父の氏名、養母の氏名、養父母との続柄、前個人番号、個人除区分
- 身分事項ファイル
    個人番号、事件コード、事件発生年月日、身分事項項目

## 必要なものは？

- 受付事件コードでは、例えば出生届が5種類定義されるものの家系図作成においては現実的に分ける必要はない。
- 養子縁組、離縁には対応しておいた方がいいかもしれない
- 氏の変更届関連は、「戸籍法73条の2の届」「戸籍法69条の2の届」「戸籍法77条の2の届」「戸籍法75条の2の届」「戸籍法107条1項～4項」がある（復氏届も？）が、単に変更で良い？
- 親権者、後見、保佐、未成年者後見、帰化、国籍関係は血縁を意味する家系図では扱わないでもよさそう。（親権者は育ての親的な意味はあるけど、それは家系図で表現するものか謎）
- 訂正、更生、追完も家系図を作る面では不要
- 戸籍DBとしては元治、慶応からあるようではあるが、原則管理は西暦（グレゴリオ暦）で行う。（つまり明治5年以前は計算が必要ではあるが、計算して突っ込む？）
- 戸籍DB上は、長男～十九男、長女～十九女まで定義されている
- 世帯にいるものとして、「妻未届」「夫未届」「縁故者」「同居人」があるが、家系図上関係しうるのは未届の妻と夫。ただし家系図で法律婚か事実婚を区別必要はある？

# 検討案
## 1

### 個人テーブル
|No|Column||
|-|-|-|
|1|個人ID|Primary,AutoIncrement
|2|カナ姓|Not Null
|3|カナ名|Not Null
|4|漢字姓|Not Null
|5|漢字名|Not Null
|6|性別|
|7|生年月日|
|8|父ID|認知していない場合はnullがありえる
|9|母ID|原則 not null、明治31年以前は母なしはありうる
|10|父母との続柄||
|11|養父ID|
|12|養母ID|
|13|養父母との続柄||
|14|死亡年月日||


### 養子テーブル
養子は離縁もあるので、婚姻同様別管理は必要。<br>
特別養子縁組を含むべきかは謎。

|No|Column||
|-|-|-|
|1|管理ID|Primary,AutoIncrement
|2|種類|普通or特別
|3|養父ID|Not Null
|4|養母ID|Not Null
|5|個人ID|Not Null
|6|発生年月日|
|7|解消年月日|

### 特別養子テーブル
特別養子縁組は、父・母が書き換えられるので、別で管理するのが無難？

|No|Column||
|-|-|-|
|1|管理ID|Primary,AutoIncrement
|2|養子管理ID|
|3|従前の父ID|
|4|従前の母ID|


### 婚姻テーブル

日本の現行法で行くのであれば、夫と妻が1-1対応ではあるが、遡ることが前提の家系図で絞るのが適当かは不明。

|No|Column||
|-|-|-|
|1|管理ID|Primary,AutoIncrement
|2|夫ID||
|3|妻ID||
|4|婚姻年月日||
|5|離縁年月日||
|6|離縁理由||

### 改名テーブル
名の変更を記録する。<br>
現名は「個人テーブル」で管理されるので、従前の記録を管理する。

|No|Column||
|-|-|-|
|1|管理ID|Primary,AutoIncrement
|2|個人ID|
|3|発生年月日||
|4|従前の名||
|5|事由||

### 改姓テーブル
婚姻他による姓の変更と名の変更を記録する。<br>
現姓は「個人テーブル」で管理されるので、従前の記録を管理する。

|No|Column||
|-|-|-|
|1|管理ID|Primary,AutoIncrement
|2|個人ID|
|3|発生年月日||
|4|従前の姓||
|5|事由||


### 性別変更テーブル
現行法上許容されているので、作るべき。<br>
性別が変更される場合は、続柄が自動的に変更されて記録されるので、従前の情報を管理する。<br>
名の変更を伴う場合は、「改名テーブル」を同時に追記する。<br>
事由はなくてもよい説ある。

|No|Column||
|-|-|-|
|1|管理ID|Primary,AutoIncrement
|2|個人ID|
|3|発生年月日||
|4|従前の性別||
|5|従前の続柄||
|6|事由||

